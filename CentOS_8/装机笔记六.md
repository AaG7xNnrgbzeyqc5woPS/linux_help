

# 1. install git
    sudo dnf install git -y
    
# 2. install trojan
    see: https://muguang.me/it/2757.html
    see: https://github.com/FaithPatrick/trojan-caddy-docker-compose/blob/master/README_CN.md
    see: https://github.com/FaithPatrick/trojan-caddy-docker-compose
## 2.1. download 
    git clone https://github.com/FaithPatrick/trojan-caddy-docker-compose.git trojan-caddy-docker-compose && cd trojan-caddy-docker-compose

## 2.2. edit ./caddy/Caddyfile
    "www.yourdomain.com" change to your domain name at this file .
    
## 2.3. edit ./trojan/config/config.json
    config:json:8 ，     "change your_password" to your client password, save it, remember it。
    config:json:12-13,  "your_domain_name" change to your domain name, This path is for "Let's encrypt" and Caddy
    docker-compose build  # now start build images, if no error, then All is OK!
    
## 2.4. Run Trojan + Caddy containers
    docker-compose up
    docker-compose up -d 
    
    docker logs     
    # you can see a lot of log information, 
    # "caddy_1   | Serving HTTP on port 80 ", 
    # "caddy_1   | Serving HTTPS on port 443 "
    # "trojan_1  | Welcome to trojan 1.15.1"
    # "trojan_1  | [2020-07-05 07:11:14] [WARN] trojan service (server) started at 0.0.0.0:443"
    # If you see this,  Then contianer run OK.

    
    https://your_domain_name  at brower, brower show "你好，世界！"
    ./wwwroot/trojan/ for trojan web , you can put some.
 
## 2.5. start compose at power up
    systemctl enable docker.service
    
    edit: /etc/rc.d/rc.local
    sudo nano /etc/rc.d/rc.local
    /usr/local/bin/docker-compose -f /path/to/docker-compose.yml up -d    
    # docker-compose.yml must change to your absulote path
    # append to /etc/rc.d/rc.local 
    
    sudo chmod +x /etc/rc.d/rc.local
    ls -l /etc/rc.d/rc.local
    sudo reboot

    
# 3. trojan client
   see: https://github.com/trojan-gfw/trojan/releases
   
## 3.1.  Manjaro Linux client
### 3.1.1. install trojan from "Software Update"
        1. start Software Update at panel
        2. click title "Browse" 
        3. click "search" icon at left-top 
        4. search "trojan"
        5. install "trojan" for all
        
### 3.1.2. install trojan from CLI        
        1. sudo pacman -Sy trojan   # Or intall trojan 
        
### 3.1.3.         
  

    
